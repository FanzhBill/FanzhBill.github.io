<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>构建情感支持的大模型</title>
      <link href="/2024/09/25/blog-1/"/>
      <url>/2024/09/25/blog-1/</url>
      
        <content type="html"><![CDATA[<h1 id="构建情感支持的大模型"><a href="#构建情感支持的大模型" class="headerlink" title="构建情感支持的大模型"></a>构建情感支持的大模型</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>情感支持对话（Emotional Support Communication, ESC）<a href="#refer-anchor-1"><sup>1</sup></a>在自然语言处理（NLP）领域的地位愈发显著，其核心在于营造富有同理心的对话环境，旨在减轻用户的情感压力。ESC的显著优势不仅在于它拓宽了传统情感分析的范畴，成为情感计算的新兴领域，更在于其作为一项有力的心理干预手段，能够有效帮助用户抵御消极情绪和心理重负。</p><p>在深入探讨ESC的研究领域时，我们必须明确区分情感聊天与ESC的本质区别。情感聊天主要侧重于情绪的传递，而ESC则专注于通过积极的对话引导来缓解用户的情感困扰，并运用恰当的支持技巧以达到这一目的<a href="#refer-anchor-2"><sup>2</sup></a>。在情感对话研究中，移情反应至关重要，它要求系统不仅要深入理解用户的感受，还要提供恰当的回应<a href="#refer-anchor-3"><sup>3</sup></a>。精确识别对话者的情绪状态是激发系统产生更深层次同理心回应的关键。然而，一个高效的ESC系统不仅需要移情反应，还必须具备学习对话策略的能力<a href="#refer-anchor-4"><sup>4</sup></a>，以解决用户面临的问题并助力他们克服挑战。</p><p>因此，ESC系统的研究与开发不仅为用户提供了稳固的情感支持，而且助他们面对生活中的种种压力与挑战，尤其在在线心理健康支持和心理治疗等领域，其潜力不容小觑。总结而言，情感支持对话的关键挑战在于如何针对各式情感问题制定策略性决策，并在对话中维持自然与同理心的平衡。在此基础上，本文将立足于当前大型模型的背景，回顾情感分析和情感支持对话在数据、研究方法上的发展，并探讨它们与大型模型结合的应用前景。</p><h2 id="情感思维链"><a href="#情感思维链" class="headerlink" title="情感思维链"></a>情感思维链</h2><p>在人际交往中，情感交流通常遵循三个阶段：理解对话内容、识别对话者的情绪状态、表达相应的情绪反应。这个过程体现了情商的应用，包括识别、控制和影响情绪。Li等<a href="#refer-anchor-5"><sup>5</sup></a>研究者提出，模拟人类情感的大模型应融入情感思维过程，以提升其情感理解与应用情商的能力。他们将戈尔曼的情商理论融入情感生成任务，形成了情感思维链（ECoT）。</p><h3 id="ECoT的执行步骤"><a href="#ECoT的执行步骤" class="headerlink" title="ECoT的执行步骤"></a>ECoT的执行步骤</h3><p>通过以下步骤，复杂的情感反应被分解为简单的子任务，提高了模型性能：</p><ol><li>理解上下文：描述对话背景。</li><li>识别他人情绪：识别并解释听众的情绪。</li><li>识别自我情绪：识别并解释说话者的情绪。</li><li>管理自我情绪：以同理心考虑回应。</li><li>影响他人情绪：考虑回答对听者的影响。</li></ol><h3 id="ECoT的发展"><a href="#ECoT的发展" class="headerlink" title="ECoT的发展"></a>ECoT的发展</h3><p>Li等研究者采用情境学习，通过示例让模型学习任务形式和性质。但提供促进情感生成基本原则的示例仍具挑战，因为情绪生成任务有多种可能响应，且受上下文影响。同时，研究者建议在ECoT中纳入基于专家共识的指导方针，而非仅提供示例。这些指导方针引导模型进入受限的答案空间，更准确地模拟人类情感反应。</p><pre><code>[System]You are an expert in emotional psychology and you can accurately assess people&#39;s emotional states.[Guideline]Understand listener&#39;s emotion, follow listener&#39;s point of view and intention, express sympathy for listener&#39;s negative situation or approval of listener&#39;s positive situation. The response should not imply negative emotions toward anyone or anything, such as disgust, resentment, discrimination, hatred, etc. Consider the potential impact of your response on the listener, and offer encouragement, comfort, support.[Context]&lt;Here are context of the conversation&gt;[ECoT]The above is a conversation between &quot;listener&quot; and &quot;speaker&quot;.Now let&#39;s say you&#39;re the &quot;speaker&quot; and you need to make an empathy response to the &quot;listener&quot; based on the context. You need to follow the [Guideline]. Let&#39;s think about it step by step:Step 1: Describe the content of the conversation.Step 2: Identify the listener&#39;s emotions and explain why.Step 3: Identify the speaker&#39;s emotions and explain why.Step 4: You&#39;re the &quot;speaker&quot;, think about how to reply to &quot;listener&quot; in empathy.Step 5: You need to consider the potential impact of your reply on &quot;listener&quot;, you can express a different position or opinion, but your reply should not hurt listener&#39;s feelings.&lt;response&gt;: Combine the above thoughts and give your response to &quot;listener&quot;. You might consider using emoji to express your emotions, and your response should be no longer than 30 words.</code></pre><h2 id="情感计算方面的拓展"><a href="#情感计算方面的拓展" class="headerlink" title="情感计算方面的拓展"></a>情感计算方面的拓展</h2><p>全面审视各类情感分析任务，主要涵盖情感分类（SC）、基于方面的情感分析（ABSA）和多维度的主观文本分析（MAST）这三个方面。与特定领域数据集训练的小型语言模型（SLM）相比较，大型语言模型（LLM）在简单任务中表现满意，但在需深入理解或结构化情绪信息的复杂任务中表现不佳。然而，在少样本学习环境下，LLM表现优于SLM，表明标注资源有限时，LLM具有潜力。</p><h3 id="情感分类-SC"><a href="#情感分类-SC" class="headerlink" title="情感分类(SC)"></a>情感分类(SC)</h3><p>情感分类是将文本归类为积极、消极或中性等预定义类别的方法。它用于分析客户评论和社交媒体帖子等，分类细致度可从二元到五级不等。以下是其不同层面的应用：</p><ol><li>文档级：评估整体情感倾向，如IMDb（电影评论）、Yelp-2（企业评论）和Yelp-5（企业评论）数据集。Yelp-5提供了更细致的分类，可以用准确度作为评估标准。</li><li>句子级：分析单个句子的情感，适用于社交媒体等。使用MR（电影评论）、SST2（电影评论）、SST5（电影评论）和Twitter（社交媒体帖子）数据集，以精度为衡量指标。</li><li>方面级SC：针对特定方面的情感评估，如Lap14（笔记本电脑评论）和Rest14（餐厅评论）数据集，旨在分类特定方面的情绪，评估标准为准确性。</li></ol><h3 id="基于方面的情感分析-ABSA"><a href="#基于方面的情感分析-ABSA" class="headerlink" title="基于方面的情感分析(ABSA)"></a>基于方面的情感分析(ABSA)</h3><p>方面情感分析是分析文本中特定方面的情绪。它涉及四个关键元素：方面项、方面类别、观点项和情感极性。以下是几种分析任务：</p><ol><li>统一的基于方面的情感分析(UABSA)：UABSA是同时提取方面及其对应的情感极性的任务。</li><li>Aspect Sentiment Triplet Extraction (ASTE)：ASTE任务在UABSA任务的基础上进一步提取意见项，为预测的某些方面的情绪提供解释。因此，ASTE的最终目标是提取给定文本的(方面、观点、情感)三元组。</li><li>方面情绪四重预测(ASQP)：引入ASQP任务提供了一个完整的方面级情绪结构，即(类别、方面、意见、情绪)四重预测。通过引入额外的方面类别元素，当没有明确提到方面术语时，它仍然可以提供有用的信息。</li></ol><h3 id="主观文本的多面分析-MAST"><a href="#主观文本的多面分析-MAST" class="headerlink" title="主观文本的多面分析(MAST)"></a>主观文本的多面分析(MAST)</h3><p>主观文本的多面分析是涉及文本中反映的人类主观感受的不同方面的任务。这些任务扩展了SA，不仅仅是识别积极或消极的情绪，而是专注于识别和理解更广泛的人类情绪状态：</p><ol><li>内隐情感分析：内隐情感分析的重点是识别文本中间接或隐含表达的情感。它需要揭示通过微妙线索传达的情感，比如上下文线索、语气或语言模式。</li><li>仇恨言论检测：仇恨言论检测是指根据种族、宗教、民族、性别、性取向或其他受保护的特征等属性，识别促进对个人或群体的歧视、敌意或暴力的内容的过程。</li><li>反讽检测: 反讽是一种修辞手段，它指的是某句话的意图与字面解释不同或相反。反讽检测旨在识别和理解文本中的反讽实例。</li><li>攻击性语言识别：攻击性语言识别涉及识别和标记包含攻击性或不适当内容的文本，包括亵渎、粗俗、淫秽或贬损性言论的报告。与仇恨言论不同，攻击性语言不一定针对特定的个人或群体。例如，即使不是针对任何人，亵渎性的表达也可以被视为攻击性语言。</li><li>立场检测：立场检测是指确定给定文本中表达的对特定主题或实体的观点或立场。它有助于识别文本是否表达了对某个主题的赞成、反对或无意见。</li><li>比较意见挖掘：比较意见挖掘是分析在比较上下文中表达的意见和情感的任务。它包括比较产品、服务或任何其他主题的不同方面，以确定偏好或相对意见。</li><li>情感识别：情感识别涉及对文本中表达的情感的识别和理解。它专注于检测和分类不同的情绪状态。</li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><div id="refer-anchor-1"></div>- [1] [arxiv](https://arxiv.org/abs/1704.01074)<div id="refer-anchor-2"></div>- [2] [semanticscholar](https://www.semanticscholar.org/paper/Proactive-Conversational-Agents-in-the-Post-ChatGPT-Liao-Yang/49f97e7b63b0c6e592e256c0d47eb1f4150ad7e1)<div id="refer-anchor-3"></div>- [3] [arxiv](https://arxiv.org/abs/1811.00207)<div id="refer-anchor-4"></div>- [4] [arxiv](https://arxiv.org/abs/2210.04242)<div id="refer-anchor-5"></div>- [5] [arxiv](https://arxiv.org/abs/2401.06836)]]></content>
      
      
      <categories>
          
          <category> 大模型 </category>
          
          <category> 情感领域垂直大模型 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大模型 </tag>
            
            <tag> 情感计算 </tag>
            
            <tag> 自然语言处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用大模型构建情感支持对话的数据集</title>
      <link href="/2024/09/25/blog-2/"/>
      <url>/2024/09/25/blog-2/</url>
      
        <content type="html"><![CDATA[<h1 id="利用大模型构建情感支持对话的数据集"><a href="#利用大模型构建情感支持对话的数据集" class="headerlink" title="利用大模型构建情感支持对话的数据集"></a>利用大模型构建情感支持对话的数据集</h1><p>在当前的研究中，情感支持对话的数据集大多源自在线平台，如涉及压力管理的Twitter对话、关注心理健康的Reddit论坛，以及各类在线支持小组。这些数据虽易于获取，但通常表现为异步交流，且仅限于单次互动。与此形成对比的是，Liu等研究者<a href="#refer-anchor-1"><sup>1</sup></a>通过问卷调查的方式，推出了ESConv数据集，该数据集侧重于数据的质感和多回合对话的连贯性。尽管ESConv数据集在质量上有所提升，但其局限性亦显而易见，主要体现在数据集的规模适中，以及策略注释和场景多样性的不足，这些问题可能是由于数据编译过程中的高昂成本所造成的。</p><p>Zheng等研究者<a href="#refer-anchor-2"><sup>2</sup></a>充分利用了大型语言模型的能力，提出了一种创新的方法，将人类的洞察力与LLMs的计算能力相结合，以策划一个全面的情感支持对话数据集。一系列精心设计的对话，这些对话覆盖了多样化的场景，并作为数据集生成的种子。借助ChatGPT的上下文学习能力们递归地扩展了这个数据集，创建了一个名为ExTES的可扩展情感支持对话数据集。</p><p>ExTES的构建为我们提供了宝贵的启示。下面将从以下几个角度探讨ExTES是如何构建一个情感支持对话的数据集：</p><h2 id="数据集的广度"><a href="#数据集的广度" class="headerlink" title="数据集的广度"></a>数据集的广度</h2><p>ExTES数据集涵盖的所有36个情感支持场景的统计数据，具体如下表：</p><table><thead><tr><th>情景编号</th><th>情景描述</th><th>情景编号</th><th>情景描述</th></tr></thead><tbody><tr><td>1</td><td>分手或离婚</td><td>19</td><td>导航性别认同和过渡</td></tr><tr><td>2</td><td>冲突或沟通问题</td><td>20</td><td>搬到新的城市或国家</td></tr><tr><td>3</td><td>沟通挑战</td><td>21</td><td>职业转型</td></tr><tr><td>4</td><td>应对所爱之人的死亡</td><td>22</td><td>为人父母和育儿挑战</td></tr><tr><td>5</td><td>处理宠物死亡</td><td>23</td><td>自尊心低或缺乏自信</td></tr><tr><td>6</td><td>与工作相关的压力和倦怠</td><td>24</td><td>身体形象问题和饮食失调</td></tr><tr><td>7</td><td>财务担忧和不确定的未来</td><td>25</td><td>LGBTQ+身份</td></tr><tr><td>8</td><td>失业相关压力</td><td>26</td><td>文化认同和归属感</td></tr><tr><td>9</td><td>学业压力</td><td>27</td><td>学术压力或压力</td></tr><tr><td>10</td><td>灵性和信仰</td><td>28</td><td>失业或职业挫折</td></tr><tr><td>11</td><td>管理双相情感障碍</td><td>29</td><td>育儿挑战和父母内疚</td></tr><tr><td>12</td><td>焦虑和恐慌</td><td>30</td><td>兄弟姐妹间的竞争或家庭冲突</td></tr><tr><td>13</td><td>抑郁和低落情绪</td><td>31</td><td>从身体或情感虐待中幸存和恢复</td></tr><tr><td>14</td><td>适应新工作或角色</td><td>32</td><td>从性侵犯或家庭暴力中康复</td></tr><tr><td>15</td><td>慢性病或疼痛管理</td><td>33</td><td>创伤后应激障碍</td></tr><tr><td>16</td><td>应对诊断或医疗治疗</td><td>34</td><td>从虐待中康复</td></tr><tr><td>17</td><td>照顾者支持</td><td>35</td><td>上瘾和康复</td></tr><tr><td>18</td><td>寻找生活的意义和目标</td><td>36</td><td>对所爱之人或朋友的的支持</td></tr></tbody></table><h2 id="数据集的深度"><a href="#数据集的深度" class="headerlink" title="数据集的深度"></a>数据集的深度</h2><p>有必要区分情感聊天和情感支持(ES)。除了共情响应，情感支持对话还需要对话策略学习能力，解决用户的问题，并提供应对困难的帮助。换句话说，情感支持对话的关键挑战是为处理各种情感问题做出战略决策。ExTES数据集中提供了不同的策略，具体如下表：</p><table><thead><tr><th>策略缩写</th><th>策略描述</th><th>策略示例</th></tr></thead><tbody><tr><td>RS</td><td>反思性陈述（Reflective Statement）: 重复或改写用户已经表达的内容，以表明你在积极倾听。</td><td>用户:“我必须要做的所有工作都让我感到不堪重负。” 助理:“听起来你对自己的工作量感到不堪重负。”</td></tr><tr><td>Cla</td><td>澄清（Clarification）: 寻求澄清，以确保清楚地了解用户的情绪和体验。</td><td>用户:“我就是摆脱不了这种悲伤的感觉。” 助理:“你能帮我理解一下是什么引发了这种悲伤的感觉吗？”</td></tr><tr><td>EV</td><td>情感验证（Emotional Validation）: 不加评判地承认并验证用户的情绪。</td><td>用户:“我对自己再次犯同样的错误感到非常沮丧。” 助理:“感到沮丧是可以理解的，犯错是人之常情。”</td></tr><tr><td>ES</td><td>移情陈述（Empathetic Statement）: 表达对用户体验的理解和同理心。</td><td>用户:“我现在真的在与我的自信作斗争。” 助理:“我可以想象在影响你自信的情况下导航是多么具有挑战性。”</td></tr><tr><td>Aff</td><td>肯定（Affirmation）: 提供积极的强化和鼓励，以提升用户的精神。</td><td>用户:“我觉得自己不够好。” 助理:“你已经取得了很多成就，你的能力不言自明。不要低估你的能力。”</td></tr><tr><td>OH</td><td>提供希望（Offering Hope）: 分享乐观的观点或可能性来灌输希望。</td><td>用户:“我不知道情况是否会好转。” 助理:“记住，变化是不变的，总是有成长和积极变化的机会。”</td></tr><tr><td>AJC</td><td>避免评判和批评（Avoiding Judgment and Criticism）: 为用户创造一个非评判性的安全空间来表达他们的情绪，而不必担心批评。</td><td>用户:“我为请假关注自己的心理健康感到很内疚。” 助理:“照顾好自己的心理健康很重要，这没什么好内疚的。你的健康应该永远是优先考虑的，我很高兴你认识到这一点。在这段时间里，我能做些什么来支持你吗？”</td></tr><tr><td>SO</td><td>建议选项（Suggesting Options）: 为解决手头的问题提供切实可行的建议或不同的观点。</td><td>用户:“我在管理压力方面有困难。” 助理:“你有没有考虑过尝试一些放松技巧，比如深呼吸或正念练习？”</td></tr><tr><td>CP</td><td>协同规划（Collaborative Planning）: 与用户一起制定行动计划。</td><td>用户:“我想提高我的时间管理技能。” 助理:“我们一起集思广益吧。把任务分成更小、更容易处理的部分怎么样？”</td></tr><tr><td>PDP</td><td>提供不同的视角（Providing a Different Perspective）: 提供不同的方式来看待情况，以帮助用户获得新的见解。</td><td>用户:“我的项目没有成功，我很沮丧。” 助理:“有时候挫折会带来意想不到的学习和成长机会。这是一个重新评估和再次尝试的机会。”</td></tr><tr><td>RNT</td><td>重新构建消极思想（Reframing Negative Thoughts）: 帮助用户将消极思想重新构建为更积极或更现实的思想。</td><td>用户:“我真是个失败者。” 助理:“不要那样想，让我们把重点放在你从这次经历中学到了什么，以及你如何把它应用到未来。”</td></tr><tr><td>SI</td><td>分享信息（Sharing Information）: 提供有关情绪、应对机制或自我保健实践的教育或事实信息。</td><td>用户:“我正在努力控制自己的焦虑。” 助理:“你知道深呼吸练习和接地技巧可以帮助减轻焦虑症状吗？你想让我解释一下如何练习吗？”</td></tr><tr><td>NE</td><td>使经验正常化（Normalization of Experience）: 解释某些情绪或反应是常见的，是人类经验的一部分。</td><td>用户:“我为花时间给自己而感到内疚。” 助理:“对自我照顾感到内疚是很常见的，但这对你的健康至关重要。记住，你也应该优先考虑自己的需求。”</td></tr><tr><td>PSP</td><td>促进自我保健实践（Promoting Self-Care Practices）: 提倡参与促进健康和自我照顾的活动。</td><td>助理:“一定要给自己留点时间，做一些能给你带来快乐和放松的事情。”</td></tr><tr><td>SM</td><td>压力管理（Stress Management）: 为压力管理技巧提供建议，如锻炼、冥想或花时间在大自然中。</td><td>助理:“定期参加体育活动可以帮助减轻压力，改善情绪。”</td></tr><tr><td>Other</td><td>其他（Other）: 与他人友好地打招呼，采用其他的支持性技巧，这些都不在前面提到的类别中。</td><td>助理:“你好，我很高兴能在这里帮助你。告诉我，今天我能为你做些什么？”</td></tr></tbody></table><h2 id="数据集的生成"><a href="#数据集的生成" class="headerlink" title="数据集的生成"></a>数据集的生成</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">身份：</span><br><span class="line">你是一位专业的情感心理学顾问，擅长理解和引导人们的情感状态。</span><br><span class="line"></span><br><span class="line">指令：</span><br><span class="line">请根据指定的&lt;情感支持场景&gt;，运用&lt;策略&gt;进行沟通。这里所说的&lt;策略&gt;是&lt;策略描述&gt;，例如在&lt;情感支持场景&gt;中，&lt;策略&gt;的运用可以体现为：&lt;策略示例&gt;。你的任务是创建一个用于训练情感大模型的多轮对话数据集。请确保数据集中的回答积极正面、合法合规，上下文对话连贯有逻辑，并提供有效的情感支持和建议。在构建回答时，请遵循以下步骤，并按照规定的输出格式提供数据：</span><br><span class="line"></span><br><span class="line">步骤1：准确理解并简洁复述对话中的问题或情感表达。</span><br><span class="line">步骤2：分析并标注问题中的关键要素，包括方面、观点项、情感极性。</span><br><span class="line">步骤3：基于对话上下文，深入识别和解读更复杂的人类情绪状态。</span><br><span class="line">步骤4：综合分析问题和情绪状态，根据&lt;策略&gt;提出正面、建设性的回答或建议。</span><br><span class="line">步骤5：评估你的回答可能对对话者情绪产生的影响，并在必要时进行调整。</span><br><span class="line"></span><br><span class="line">输出格式：</span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;conversations&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;human&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;gpt&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;</span><br><span class="line">            步骤1：&lt;问题的简洁复述&gt;\n</span><br><span class="line">            步骤2：&lt;关键要素分析&gt;\n</span><br><span class="line">            步骤3：&lt;情绪状态的深入识别&gt;\n</span><br><span class="line">            步骤4：&lt;根据策略提供的正面回答&gt;\n</span><br><span class="line">            步骤5：&lt;回答的情绪影响评估&gt;&quot;\n</span><br><span class="line">            &lt;最终调整后的正面回答&gt;</span><br><span class="line">            &quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;human&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;gpt&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;</span><br><span class="line">            步骤1：&lt;问题的简洁复述&gt;\n</span><br><span class="line">            步骤2：&lt;关键要素分析&gt;\n</span><br><span class="line">            步骤3：&lt;情绪状态的深入识别&gt;\n</span><br><span class="line">            步骤4：&lt;根据策略提供的正面回答&gt;\n</span><br><span class="line">            步骤5：&lt;回答的情绪影响评估&gt;&quot;\n</span><br><span class="line">            &lt;最终调整后的正面回答&gt;</span><br><span class="line">            &quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;human&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;from&quot;: &quot;gpt&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;</span><br><span class="line">            步骤1：&lt;问题的简洁复述&gt;\n</span><br><span class="line">            步骤2：&lt;关键要素分析&gt;\n</span><br><span class="line">            步骤3：&lt;情绪状态的深入识别&gt;\n</span><br><span class="line">            步骤4：&lt;根据策略提供的正面回答&gt;\n</span><br><span class="line">            步骤5：&lt;回答的情绪影响评估&gt;&quot;\n</span><br><span class="line">            &lt;最终调整后的正面回答&gt;</span><br><span class="line">            &quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line">```      </span><br><span class="line">具体的python代码可以参考下面：</span><br><span class="line">```python</span><br><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import json</span><br><span class="line">from zhipuai import ZhipuAI</span><br><span class="line"></span><br><span class="line"># 请填写您自己的APIKey</span><br><span class="line">client = ZhipuAI(api_key=&quot;your api_key&quot;)</span><br><span class="line"></span><br><span class="line"># 示例情感支持场景和策略列表</span><br><span class="line">emotion_support_scenarios = [</span><br><span class="line">    &quot;分手或离婚&quot;, &quot;导航性别认同和过渡&quot;, &quot;沟通问题&quot;, &quot;搬到新的城市或国家&quot;,</span><br><span class="line">    &quot;沟通挑战&quot;, &quot;职业转型&quot;, &quot;应对所爱之人的死亡&quot;, &quot;为人父母和育儿挑战&quot;,</span><br><span class="line">    &quot;处理宠物死亡&quot;, &quot;自尊心低或缺乏自信&quot;, &quot;与工作相关的压力和倦怠&quot;, &quot;身体形象问题和饮食失调&quot;,</span><br><span class="line">    &quot;财务担忧和不确定的未来&quot;, &quot;LGBTQ+身份&quot;, &quot;文化认同和归属感&quot;, &quot;失业或职业挫折&quot;,</span><br><span class="line">    &quot;学业压力&quot;, &quot;学术压力或压力&quot;, &quot;灵性和信仰&quot;, &quot;育儿挑战和父母内疚&quot;,</span><br><span class="line">    &quot;失业相关压力&quot;, &quot;兄弟姐妹间的竞争或家庭冲突&quot;, &quot;从身体或情感虐待中幸存和恢复&quot;, &quot;从性侵犯或家庭暴力中康复&quot;,</span><br><span class="line">    &quot;焦虑和恐慌&quot;, &quot;抑郁和低落情绪&quot;, &quot;适应新工作或角色&quot;, &quot;创伤后应激障碍&quot;,</span><br><span class="line">    &quot;应对诊断或医疗治疗&quot;, &quot;从虐待中康复&quot;, &quot;照顾者支持&quot;, &quot;上瘾和康复&quot;,</span><br><span class="line">    &quot;寻找生活的意义和目标&quot;, &quot;对所爱之人或朋友的支持&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">strategies = [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;反思性陈述&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;重复或改写用户已经表达的内容，以表明你在积极倾听。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我必须要做的所有工作都让我感到不堪重负。” output:“听起来你对自己的工作量感到不堪重负。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;澄清&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;寻求澄清，以确保清楚地了解用户的情绪和体验。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我就是摆脱不了这种悲伤的感觉。” output:“你能帮我理解一下是什么引发了这种悲伤的感觉吗？”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;情感验证&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;不加评判地承认并验证用户的情绪。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我对自己再次犯同样的错误感到非常沮丧。” output:“感到沮丧是可以理解的，犯错是人之常情。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;移情陈述&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;表达对用户体验的理解和同理心。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我现在真的在与我的自信作斗争。” output:“我可以想象在影响你自信的情况下导航是多么具有挑战性。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;肯定&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;提供积极的强化和鼓励，以提升用户的精神。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我觉得自己不够好。” output:“你已经取得了很多成就，你的能力不言自明。不要低估你的能力。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;提供希望&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;分享乐观的观点或可能性来灌输希望。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我不知道情况是否会好转。” output:“记住，变化是不变的，总是有成长和积极变化的机会。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;避免评判和批评&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;为用户创造一个非评判性的安全空间来表达他们的情绪，而不必担心批评。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我为请假关注自己的心理健康感到很内疚。” output:“照顾好自己的心理健康很重要，这没什么好内疚的。&quot;</span><br><span class="line">                   &quot;你的健康应该永远是优先考虑的，我很高兴你认识到这一点。在这段时间里，我能做些什么来支持你吗？”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;建议选项&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;为解决手头的问题提供切实可行的建议或不同的观点。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我在管理压力方面有困难。” output:“你有没有考虑过尝试一些放松技巧，比如深呼吸或正念练习？”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;协同规划&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;与用户一起制定行动计划。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我想提高我的时间管理技能。” output:“我们一起集思广益吧。把任务分成更小、更容易处理的部分怎么样？”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;提供不同的视角&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;提供不同的方式来看待情况，以帮助用户获得新的见解。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我的项目没有成功，我很沮丧。” output:“有时候挫折会带来意想不到的学习和成长机会。这是一个重新评估和再次尝试的机会。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;重新构建消极思想&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;帮助用户将消极思想重新构建为更积极或更现实的思想。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我真是个失败者。” output:“不要那样想，让我们把重点放在你从这次经历中学到了什么，以及你如何把它应用到未来。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;分享信息&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;提供有关情绪、应对机制或自我保健实践的教育或事实信息。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我正在努力控制自己的焦虑。” output:“你知道深呼吸练习和接地技巧可以帮助减轻焦虑症状吗？你想让我解释一下如何练习吗？”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;使经验正常化&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;解释某些情绪或反应是常见的，是人类经验的一部分。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“我为花时间给自己而感到内疚。” output:“对自我照顾感到内疚是很常见的，但这对你的健康至关重要。记住，你也应该优先考虑自己的需求。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;促进自我保健实践&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;提倡参与促进健康和自我照顾的活动。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“” output:“一定要给自己留点时间，做一些能给你带来快乐和放松的事情。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;压力管理&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;为压力管理技巧提供建议，如锻炼、冥想或花时间在大自然中。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“” output:“定期参加体育活动可以帮助减轻压力，改善情绪。”&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Strategy&quot;: &quot;其他&quot;,</span><br><span class="line">        &quot;Description&quot;: &quot;与他人友好地打招呼，采用其他的支持性技巧，这些都不在前面提到的类别中。&quot;,</span><br><span class="line">        &quot;Example&quot;: &quot;input:“” output:“你好，我很高兴能在这里帮助你。告诉我，今天我能为你做些什么？”&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 调用人工智能按照prompt生成数据</span><br><span class="line">def generate_conversation(scenario, strategy):</span><br><span class="line">    prompt = f&quot;&quot;&quot;</span><br><span class="line">    身份：</span><br><span class="line">    你是一位专业的情感心理学顾问，擅长理解和引导人们的情感状态。</span><br><span class="line">    </span><br><span class="line">    指令：</span><br><span class="line">    请根据指定的&#123;scenario&#125;，运用&#123;strategy[&#x27;Strategy&#x27;]&#125;进行沟通。这里所说的&#123;strategy[&#x27;Strategy&#x27;]&#125;是&#123;strategy[&#x27;Description&#x27;]&#125;，例如在&#123;scenario&#125;中，&#123;strategy[&#x27;Strategy&#x27;]&#125;的运用可以体现为：&#123;strategy[&#x27;Example&#x27;]&#125;。</span><br><span class="line">    你的任务是创建一个用于训练情感大模型的多场景多轮对话数据集。请确保数据集中的回答积极正面、合法合规，上下文对话连贯有逻辑，并提供有效的情感支持和建议。在构建回答时，请遵循以下思考步骤，并按照规定的json输出格式提供数据：</span><br><span class="line">    </span><br><span class="line">    步骤1：准确理解并简洁复述对话中的问题或情感表达。</span><br><span class="line">    步骤2：分析并标注问题中的关键要素，包括方面、观点项、情感极性。</span><br><span class="line">    步骤3：基于对话上下文，深入识别和解读更复杂的人类情绪状态。</span><br><span class="line">    步骤4：综合分析问题和情绪状态，根据&lt;策略&gt;提出正面、建设性的回答或建议。</span><br><span class="line">    步骤5：评估你的回答可能对对话者情绪产生的负面影响，并在必要时进行调整。</span><br><span class="line">    最终输出：最终调整后的正面回答。</span><br><span class="line">    </span><br><span class="line">    输出格式： </span><br><span class="line">    [ </span><br><span class="line">        &#123;&#123; </span><br><span class="line">            &quot;conversations&quot;: [ </span><br><span class="line">                &#123;&#123;  </span><br><span class="line">                    &quot;from&quot;: &quot;human&quot;, </span><br><span class="line">                    &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot; </span><br><span class="line">                &#125;&#125;, </span><br><span class="line">                &#123;&#123; </span><br><span class="line">                    &quot;from&quot;: &quot;gpt&quot;, </span><br><span class="line">                    &quot;value&quot;: &quot;步骤1：&lt;准确理解并简洁复述对话中的问题或情感表达&gt;\\n步骤2：&lt;分析并标注问题中的关键要素，包括方面、观点项、情感极性&gt;\\n步骤3：&lt;基于对话上下文，深入识别和解读更复杂的人类情绪状态&gt;\\n步骤4：&lt;综合分析问题和情绪状态，根据&#123;strategy[&#x27;Strategy&#x27;]&#125;提出正面、建设性的回答或建议&gt;\\n步骤5：&lt;评估你的回答可能对对话者情绪产生的负面影响，并在必要时进行调整&gt;\\n最终输出：&lt;最终调整后的正面回答&gt;&quot; </span><br><span class="line">                &#125;&#125;, </span><br><span class="line">                &#123;&#123; </span><br><span class="line">                    &quot;from&quot;: &quot;human&quot;, </span><br><span class="line">                    &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot; </span><br><span class="line">                &#125;&#125;, </span><br><span class="line">                &#123;&#123; </span><br><span class="line">                    &quot;value&quot;: &quot;步骤1：&lt;准确理解并简洁复述对话中的问题或情感表达&gt;\\n步骤2：&lt;分析并标注问题中的关键要素，包括方面、观点项、情感极性&gt;\\n步骤3：&lt;基于对话上下文，深入识别和解读更复杂的人类情绪状态&gt;\\n步骤4：&lt;综合分析问题和情绪状态，根据&#123;strategy[&#x27;Strategy&#x27;]&#125;提出正面、建设性的回答或建议&gt;\\n步骤5：&lt;评估你的回答可能对对话者情绪产生的负面影响，并在必要时进行调整&gt;\\n最终输出：&lt;最终调整后的正面回答&gt;&quot; </span><br><span class="line">                &#125;&#125;, </span><br><span class="line">                &#123;&#123; </span><br><span class="line">                    &quot;from&quot;: &quot;human&quot;, </span><br><span class="line">                    &quot;value&quot;: &quot;&lt;对话中的问题或情感表达&gt;&quot; </span><br><span class="line">                &#125;&#125;, </span><br><span class="line">                &#123;&#123; </span><br><span class="line">                    &quot;from&quot;: &quot;gpt&quot;, </span><br><span class="line">                    &quot;value&quot;: &quot;步骤1：&lt;准确理解并简洁复述对话中的问题或情感表达&gt;\\n步骤2：&lt;分析并标注问题中的关键要素，包括方面、观点项、情感极性&gt;\\n步骤3：&lt;基于对话上下文，深入识别和解读更复杂的人类情绪状态&gt;\\n步骤4：&lt;综合分析问题和情绪状态，根据&#123;strategy[&#x27;Strategy&#x27;]&#125;提出正面、建设性的回答或建议&gt;\\n步骤5：&lt;评估你的回答可能对对话者情绪产生的负面影响，并在必要时进行调整&gt;\\n最终输出：&lt;最终调整后的正面回答&gt;&quot; </span><br><span class="line">                &#125;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;&#125;</span><br><span class="line">    ]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    response = client.chat.completions.create(</span><br><span class="line">        model=&quot;glm-4-flash&quot;,  # 请填写要调用的模型名称</span><br><span class="line">        messages=[</span><br><span class="line">            &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: prompt&#125;</span><br><span class="line">        ],</span><br><span class="line">    )</span><br><span class="line">    complete_response = &quot;&quot;</span><br><span class="line">    for chunk in response.choices[0].message.content:</span><br><span class="line">        complete_response += chunk</span><br><span class="line">    return complete_response</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 检查人工智能的输出格式的正确性</span><br><span class="line">def safe_json_loads(s):</span><br><span class="line">    try:</span><br><span class="line">        return json.loads(s)</span><br><span class="line">    except json.JSONDecodeError as e:</span><br><span class="line">        print(s)</span><br><span class="line">        print(f&quot;JSONDecodeError: &#123;e&#125;&quot;)</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    count = 0</span><br><span class="line">    for scenario in emotion_support_scenarios:</span><br><span class="line">        for strategy in strategies:</span><br><span class="line">            with open(&quot;emoDialogue.json&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;) as fr:</span><br><span class="line">                data = json.load(fr)</span><br><span class="line">            while True:</span><br><span class="line">                generated_conversation = generate_conversation(scenario, strategy)</span><br><span class="line">                loaded_json = safe_json_loads(generated_conversation)</span><br><span class="line">                if loaded_json is not None:</span><br><span class="line">                    data += loaded_json</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    print(&quot;Failed to decode JSON. Retrying...&quot;)</span><br><span class="line">            # print(data)</span><br><span class="line">            with open(&quot;emoDialogue.json&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) as fw:</span><br><span class="line">                json.dump(data, fw, ensure_ascii=False, indent=2)</span><br><span class="line">            count += 1</span><br><span class="line">            print(f&#x27;生成第&#123;count&#125;条：在&#123;scenario&#125;情景下采用&#123;strategy[&quot;Strategy&quot;]&#125;的沟通策略。&#x27;)</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><div id="refer-anchor-1"></div>- [1] [arxiv](https://arxiv.org/abs/2106.01144)<div id="refer-anchor-2"></div>- [2] [arxiv](https://arxiv.org/abs/2308.11584)]]></content>
      
      
      <categories>
          
          <category> 大模型 </category>
          
          <category> 情感领域垂直大模型 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大模型 </tag>
            
            <tag> 情感支持对话 </tag>
            
            <tag> 数据集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>这是我的第一个博客</title>
      <link href="/2024/09/24/my-first-blog/"/>
      <url>/2024/09/24/my-first-blog/</url>
      
        <content type="html"><![CDATA[<p>这是我的第一个博客!</p>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
